/*
 * command_line.c
 * Date Created: 10/30/2018
 */

#include "headers.h"

/*
 * Function that parses the type of arguments that the user will pass for scanning.
 * @requires user enter eithers 0 or 1 for argument type
 * @ensures the type of argument is either 0 or 1
 */
char parse_type_of_argument(){
	// Declare argument variable
	char argument[1];
	printf("Please enter the type of arguments you would like to include. Command Line Arguments = 0, Configuration Files = 1");
	//Scan user input into argument char
	scanf("%s", argument);	
	// Error out if improper input given.
	if(argument[0]!='1' || argument[0] !='0'){
		exit(1);
	}
	return argument[0];
}

/*
 * Function that retrieves configuration files from the user.
 */
void retrieve_configuration_files(){
	// Declare variables
	int flag = 0;
	char configFileName[100];
	printf("Enter each configuration file, with each separated with the <Enter> key. If you have no more configuration files to input, enter 0.");
	// Begin loop, continues until '0' is entered by user
	while(!flag){
		// Scan user input
		scanf("%s", configFileName);
		// If configFileName is '0', break loop
		if (strcmp(configFileName,"0") == 0) {
			break;
		}else{
			// Send file to scanning process
		}
	}
}

void retrieve_command_line_arguments(){
	// Declare variables
	int flag = 0;
	char commandLineArg[100];
	printf("Enter each command line argument, with each separated with the <Enter> key. If you have no more configuration files to input, enter 0.");
	// Begin loop, continues until '0' is entered by user
	while(!flag){
		// Scan user input
		scanf("%s", commandLineArg);
		// If commandLineArg is '0', break loop
		if(strcmp(commandLineArg, "0") == 0){
			break;
		}else{
			// Send file to scanning process
		}
	}
}

void *parse_commands(){
    // Source code to parse commands from user.
    char arg_types = parse_type_of_argument();
    if (arg_types == '0') {
        retrieve_command_line_arguments();
    } else if (arg_types == '1') {
        retrieve_configuration_files();
    } else {
        printf("Something went wrong.\n");
        exit(1);
    }
}
